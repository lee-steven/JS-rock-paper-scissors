<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RPS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script>
        game();
        
        //Randomly choose R,P,or S for Computer
        function computerPlay(){
            //Returns values between 1 to 3 inclusive
            let randNum = Math.round(Math.random()*2 );
            if(randNum == 0){
                return 'rock';
            }
            else if(randNum == 1){
                return 'paper';
            }
            else if(randNum == 2){
                return 'scissors';
            }

        }
    
        function game(){
            let round = 0;
            let playerScore = 0;
            let computerScore = 0; 

            while(round < 4){
                playerSelection = prompt("What's your play? (Rock, Paper, or Scissors)");

                //default lowercase input
                playerSelection = playerSelection.toLowerCase();

                computerSelection = computerPlay();

                console.log("Round " + round);
                console.log("Player chose: " + playerSelection);
                console.log("Computer chose: " +computerSelection);
                console.log(playRound(playerSelection, computerSelection));
                console.log("Player Score: " + playerScore + " Computer Score: " + computerScore)
            }

            if(playerScore > computerScore){
                console.log("PLAYER WINS THE GAME!");
            }
            else if(playerScore < computerScore){
                console.log("COMPUTER WINS THE GAME!")
            }
            else{
                console.log("IT'S A TIE GAME!");
            }

            function playRound(playerSelection, computerSelection){
                if(playerSelection == computerSelection){
                    round++;
                    return "TIE!";
                }
                else if(playerSelection == 'rock' && computerSelection == 'scissors' ||
                        playerSelection == 'paper' && computerSelection == 'rock' ||
                        playerSelection == 'scissors' && computerSelection == 'paper'){
                    playerScore++;
                    round++;
                    return "POINT TO THE PLAYER!";
                }
                else if(computerSelection == 'rock' && playerSelection == 'scissors' ||
                        computerSelection == 'paper' && playerSelection == 'rock' ||
                        computerSelection == 'scissors' && playerSelection == 'paper'){
                    computerScore++;
                    round++;
                    return "POINT TO THE COMPUTER!";
                }
            }
        }

    </script>
</body>
</html>